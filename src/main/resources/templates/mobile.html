<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>ì£¼ì‚¬ë‘êµíšŒ ì²­ë…„ë¶€ ì£¼ë³´</title>
    
    <!-- PWA ë©”íƒ€ íƒœê·¸ -->
    <meta name="description" content="ì£¼ì‚¬ë‘êµíšŒ ì²­ë…„ë¶€ë¥¼ ìœ„í•œ ëª¨ë°”ì¼ ì£¼ë³´ ì•±">
    <meta name="theme-color" content="#667eea">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="ì²­ë…„ë¶€ ì£¼ë³´">
    
    <!-- ë§¤ë‹ˆí˜ìŠ¤íŠ¸ -->
    <link rel="manifest" href="/manifest.json">
    
    <!-- íŒŒë¹„ì½˜ (ê¸°ë³¸ ë¸Œë¼ìš°ì € ì•„ì´ì½˜ ì‚¬ìš©) -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    
    <!-- ê³µí†µ ìŠ¤íƒ€ì¼ -->
    <th:block th:replace="~{fragments/styles :: styles}"></th:block>
</head>
<body>
    <!-- í—¤ë” -->
    <th:block th:replace="~{fragments/header :: header(${currentDate})}"></th:block>

    <div class="container-fluid px-3 py-3">
        <!-- êµíšŒ ì •ë³´ -->
        <th:block th:replace="~{fragments/church-info :: church-info}"></th:block>

        <!-- ì£¼ë³´ ë³´ê¸° ë²„íŠ¼ -->
        <section class="mb-4">
            <button onclick="openBulletinViewer()" class="btn btn-primary w-100 py-3 d-flex align-items-center justify-content-center gap-2" style="font-size: 1.125rem; font-weight: 600; border-radius: 12px; background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%); border: none;">
                <i class="fas fa-book-open"></i>
                <span>ì£¼ë³´ ë³´ê¸°</span>
            </button>
        </section>

        <!-- ì²­ë…„ë¶€ ì˜ˆë°° ì¼ì • -->
        <section id="schedule" class="p-4" style="background: var(--muted); background-opacity: 0.3;">
            <div class="mb-4">
                <h2 class="h5 fw-bold mb-1" style="color: var(--foreground);">ì²­ë…„ë¶€ ì˜ˆë°° ì¼ì •</h2>
                <p style="font-size: 0.875rem; color: var(--muted-foreground);">ì£¼ì°¨ë³„ë¡œ ë‹¤ì–‘í•œ í˜•íƒœì˜ ì˜ˆë°°ì™€ ëª¨ì„ì„ ì§„í–‰í•´ìš”</p>
            </div>

            <div class="d-flex flex-column gap-3">
                <!-- 1ì£¼ì°¨: ì²­ë…„ì£¼ê´€ ì˜¤í›„ì˜ˆë°° -->
                <div class="card" style="border: 1px solid var(--border); border-opacity: 0.5; background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);">
                    <div class="card-body p-4">
                        <div class="d-flex align-items-center justify-content-between">
                            <div class="flex-grow-1">
                                <div class="d-flex align-items-center gap-2 mb-2">
                                    <h3 class="fw-semibold mb-0" style="color: white;">1ì£¼ì°¨: ì²­ë…„ì£¼ê´€ ì˜¤í›„ì˜ˆë°°</h3>
                                    <span class="badge px-2 py-1 rounded-pill" style="font-size: 0.75rem; background: rgba(255,255,255,0.2); color: white;">ë§¤ì›” ì²«ì§¸ì£¼</span>
                                </div>
                                <div class="d-flex flex-column gap-1">
                                    <div class="d-flex align-items-center gap-2" style="font-size: 0.875rem; color: rgba(255,255,255,0.9);">
                                        <i class="fas fa-clock" style="width: 1rem; height: 1rem;"></i>
                                        <span>ì˜¤í›„ 2:00</span>
                                    </div>
                                    <div class="d-flex align-items-center gap-2" style="font-size: 0.875rem; color: rgba(255,255,255,0.9);">
                                        <i class="fas fa-map-marker-alt" style="width: 1rem; height: 1rem;"></i>
                                        <span>2ì¸µ ì˜ˆë°°ë‹¹</span>
                                    </div>
                                </div>
                            </div>
                            <div class="text-end">
                                <i class="fas fa-users" style="font-size: 2rem; color: rgba(255,255,255,0.3);"></i>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 2ì£¼ì°¨: ì²­ë…„ë¶€ ìì²´ ì˜ˆë°° -->
                <div class="card" style="border: 1px solid var(--border); border-opacity: 0.5;">
                    <div class="card-body p-4">
                        <div class="d-flex align-items-center justify-content-between">
                            <div class="flex-grow-1">
                                <div class="d-flex align-items-center gap-2 mb-2">
                                    <h3 class="fw-semibold mb-0" style="color: var(--foreground);">2ì£¼ì°¨: ì²­ë…„ë¶€ ìì²´ ì˜ˆë°°</h3>
                                    <span class="badge px-2 py-1 rounded-pill" style="font-size: 0.75rem; background: var(--secondary); background-opacity: 0.8; color: var(--secondary-foreground);">ë§¤ì›” ë‘˜ì§¸ì£¼</span>
                                </div>
                                <div class="d-flex flex-column gap-1">
                                    <div class="d-flex align-items-center gap-2" style="font-size: 0.875rem; color: var(--muted-foreground);">
                                        <i class="fas fa-clock" style="width: 1rem; height: 1rem;"></i>
                                        <span>ì˜¤í›„ 1:00</span>
                                    </div>
                                    <div class="d-flex align-items-center gap-2" style="font-size: 0.875rem; color: var(--muted-foreground);">
                                        <i class="fas fa-map-marker-alt" style="width: 1rem; height: 1rem;"></i>
                                        <span>ì§€í•˜1ì¸µ ì¤‘ê³ ë“±ë¶€ì‹¤</span>
                                    </div>
                                </div>
                            </div>
                            <div class="text-end">
                                <p class="mb-0" style="font-size: 0.875rem; color: var(--muted-foreground);">ì˜ˆë°°</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 3ì£¼ì°¨: ì²­ë…„ë¶€ ìì²´ ì˜ˆë°° -->
                <div class="card" style="border: 1px solid var(--border); border-opacity: 0.5;">
                    <div class="card-body p-4">
                        <div class="d-flex align-items-center justify-content-between">
                            <div class="flex-grow-1">
                                <div class="d-flex align-items-center gap-2 mb-2">
                                    <h3 class="fw-semibold mb-0" style="color: var(--foreground);">3ì£¼ì°¨: ì²­ë…„ë¶€ ìì²´ ì˜ˆë°°</h3>
                                    <span class="badge px-2 py-1 rounded-pill" style="font-size: 0.75rem; background: var(--secondary); background-opacity: 0.8; color: var(--secondary-foreground);">ë§¤ì›” ì…‹ì§¸ì£¼</span>
                                </div>
                                <div class="d-flex flex-column gap-1">
                                    <div class="d-flex align-items-center gap-2" style="font-size: 0.875rem; color: var(--muted-foreground);">
                                        <i class="fas fa-clock" style="width: 1rem; height: 1rem;"></i>
                                        <span>ì˜¤í›„ 1:00</span>
                                    </div>
                                    <div class="d-flex align-items-center gap-2" style="font-size: 0.875rem; color: var(--muted-foreground);">
                                        <i class="fas fa-map-marker-alt" style="width: 1rem; height: 1rem;"></i>
                                        <span>ì§€í•˜1ì¸µ ì¤‘ê³ ë“±ë¶€ì‹¤</span>
                                    </div>
                                </div>
                            </div>
                            <div class="text-end">
                                <p class="mb-0" style="font-size: 0.875rem; color: var(--muted-foreground);">ì˜ˆë°°</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 4ì£¼ì°¨: ì²­ë…„ë¶€ ìì²´ ê¸°ë„íšŒ -->
                <div class="card" style="border: 1px solid var(--border); border-opacity: 0.5; background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);">
                    <div class="card-body p-4">
                        <div class="d-flex align-items-center justify-content-between">
                            <div class="flex-grow-1">
                                <div class="d-flex align-items-center gap-2 mb-2">
                                    <h3 class="fw-semibold mb-0" style="color: white;">4ì£¼ì°¨: ì²­ë…„ë¶€ ìì²´ ê¸°ë„íšŒ</h3>
                                    <span class="badge px-2 py-1 rounded-pill" style="font-size: 0.75rem; background: rgba(255,255,255,0.2); color: white;">ë§¤ì›” ë„·ì§¸ì£¼</span>
                                </div>
                                <div class="d-flex flex-column gap-1">
                                    <div class="d-flex align-items-center gap-2" style="font-size: 0.875rem; color: rgba(255,255,255,0.9);">
                                        <i class="fas fa-clock" style="width: 1rem; height: 1rem;"></i>
                                        <span>ì˜¤í›„ 1:00</span>
                                    </div>
                                    <div class="d-flex align-items-center gap-2" style="font-size: 0.875rem; color: rgba(255,255,255,0.9);">
                                        <i class="fas fa-map-marker-alt" style="width: 1rem; height: 1rem;"></i>
                                        <span>ì§€í•˜1ì¸µ ì¤‘ê³ ë“±ë¶€ì‹¤</span>
                                    </div>
                                </div>
                            </div>
                            <div class="text-end">
                                <i class="fas fa-church" style="font-size: 2rem; color: rgba(255,255,255,0.3);"></i>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 5ì£¼ì°¨: ì• ì°¬ëª¨ì„ -->
                <div class="card" style="border: 1px solid var(--border); border-opacity: 0.5; background: linear-gradient(135deg, #f59e0b 0%, #f97316 100%);">
                    <div class="card-body p-4">
                        <div class="d-flex align-items-center justify-content-between">
                            <div class="flex-grow-1">
                                <div class="d-flex align-items-center gap-2 mb-2">
                                    <h3 class="fw-semibold mb-0" style="color: white;">5ì£¼ì°¨: ì• ì°¬ëª¨ì„</h3>
                                    <span class="badge px-2 py-1 rounded-pill" style="font-size: 0.75rem; background: rgba(255,255,255,0.2); color: white;">5ì£¼ì°¨ê°€ ìˆëŠ” ë‹¬</span>
                                </div>
                                <div class="d-flex flex-column gap-1">
                                    <div class="d-flex align-items-center gap-2" style="font-size: 0.875rem; color: rgba(255,255,255,0.9);">
                                        <i class="fas fa-clock" style="width: 1rem; height: 1rem;"></i>
                                        <span>ì˜¤í›„ 1:00</span>
                                    </div>
                                    <div class="d-flex align-items-center gap-2" style="font-size: 0.875rem; color: rgba(255,255,255,0.9);">
                                        <i class="fas fa-utensils" style="width: 1rem; height: 1rem;"></i>
                                        <span>ê³µì§€ í™•ì¸</span>
                                    </div>
                                </div>
                            </div>
                            <div class="text-end">
                                <i class="fas fa-heart" style="font-size: 2rem; color: rgba(255,255,255,0.3);"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ì•ˆë‚´ ë©”ì‹œì§€ -->
            <div class="mt-4 p-3 rounded-3" style="background: var(--accent); background-opacity: 0.5;">
                <div class="d-flex align-items-start gap-3">
                    <i class="fas fa-info-circle" style="color: var(--primary); margin-top: 0.125rem;"></i>
                    <div>
                        <p class="fw-medium mb-1" style="color: var(--foreground); font-size: 0.875rem;">ğŸ“… ì£¼ì°¨ë³„ ì˜ˆë°° ì•ˆë‚´</p>
                        <p class="mb-0" style="color: var(--muted-foreground); font-size: 0.75rem; line-height: 1.4;">
                            ë§¤ì›” ì£¼ì°¨ì— ë”°ë¼ ë‹¤ë¥¸ í˜•íƒœì˜ ì˜ˆë°°ì™€ ëª¨ì„ì„ ì§„í–‰í•©ë‹ˆë‹¤. ìì„¸í•œ ì¼ì •ì€ ì²­ë…„ë¶€ ë‹¨ì²´ ì±„íŒ…ë°©ì„ í™•ì¸í•´ì£¼ì„¸ìš”!
                        </p>
                    </div>
                </div>
            </div>
        </section>

        <!-- ì„±ê²½êµ¬ì ˆ -->
        <div class="bible-card p-3 mb-3" th:if="${not #lists.isEmpty(bulletin.bibleVerses)}">
            <div th:each="verse : ${bulletin.bibleVerses}">
                <h6 class="mb-2">
                    <i class="fas fa-bible me-2"></i>
                    <span th:text="${verse.verseReference}">ìš”í•œë³µìŒ 3:16</span>
                </h6>
                <p class="mb-0 small" th:text="${verse.verseText}">í•˜ë‚˜ë‹˜ì´ ì„¸ìƒì„ ì´ì²˜ëŸ¼ ì‚¬ë‘í•˜ì‚¬...</p>
            </div>
        </div>

        <!-- êµíšŒ ì†Œì‹ (Announcements) -->
        <section class="p-4">
            <div class="d-flex align-items-center justify-content-between mb-4">
                <h2 class="h5 fw-bold mb-0" style="color: var(--foreground);">êµíšŒ ì†Œì‹</h2>
                <button class="btn btn-sm" style="background: none; border: none; color: var(--primary); display: flex; align-items-center; gap: 0.25rem;">
                    ì „ì²´ë³´ê¸° <i class="fas fa-chevron-right" style="font-size: 0.75rem;"></i>
                </button>
            </div>

            <div class="d-flex flex-column gap-3" th:if="${not #lists.isEmpty(bulletin.announcements)}">
                <div class="card border-0 shadow-sm" 
                     style="border: 1px solid var(--border); border-opacity: 0.5; transition: box-shadow 0.2s ease;"
                     onmouseover="this.style.boxShadow='0 4px 6px -1px rgba(0, 0, 0, 0.1)'"
                     onmouseout="this.style.boxShadow='0 1px 3px 0 rgba(0, 0, 0, 0.1)'"
                     th:each="announcement : ${bulletin.announcements}">
                    <div class="card-body p-4">
                        <div class="d-flex align-items-start gap-3">
                            <!-- ì•„ì´ì½˜ -->
                            <div class="flex-shrink-0 d-flex align-items-center justify-content-center rounded-2"
                                 style="width: 40px; height: 40px; background: var(--primary); background-opacity: 0.1;">
                                <i class="fas fa-heart" style="color: var(--primary); font-size: 1.25rem;"></i>
                            </div>

                            <!-- ë‚´ìš© -->
                            <div class="flex-grow-1 min-width-0">
                                <div class="d-flex align-items-center gap-2 mb-1">
                                    <h3 class="fw-semibold mb-0" style="font-size: 0.875rem; color: var(--foreground);" th:text="${announcement.title}">ìƒˆê°€ì¡± í™˜ì˜ì‹</h3>
                                    <span class="badge text-white px-2 py-0" 
                                          style="font-size: 0.75rem; background: var(--destructive);" 
                                          th:if="${announcement.isImportant}">ì¤‘ìš”</span>
                                    <span class="badge px-2 py-0" 
                                          style="font-size: 0.75rem; background: var(--secondary); color: var(--secondary-foreground);">í–‰ì‚¬</span>
                                </div>

                                <p class="mb-2" style="font-size: 0.875rem; color: var(--muted-foreground); line-height: 1.5;" 
                                   th:text="${announcement.content}">3ì›” 26ì¼(ì¼) ì˜¤í›„ 2ì‹œ ìƒˆê°€ì¡±ì„ ìœ„í•œ í™˜ì˜ì‹ì´ ìˆìŠµë‹ˆë‹¤. ë§ì€ ì°¸ì—¬ ë¶€íƒë“œë¦½ë‹ˆë‹¤.</p>

                                <p class="mb-0" style="font-size: 0.75rem; color: var(--muted-foreground);" 
                                   th:text="${#temporals.format(announcement.announcementDate, 'yyyy.MM.dd')}">2024.03.19</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- ì—°ë½ì²˜ & ì˜¤ì‹œëŠ” ê¸¸ (Contact) -->
        <section class="p-4" style="background: var(--muted); background-opacity: 0.3;">
            <div class="mb-4">
                <h2 class="h5 fw-bold mb-1" style="color: var(--foreground);">ì—°ë½ì²˜ & ì˜¤ì‹œëŠ” ê¸¸</h2>
                <p style="font-size: 0.875rem; color: var(--muted-foreground);">êµíšŒ ì •ë³´ì™€ ì°¾ì•„ì˜¤ëŠ” ë°©ë²•</p>
            </div>

            <!-- ì—°ë½ì²˜ ì •ë³´ -->
            <div class="card mb-4" style="border: 1px solid var(--border); border-opacity: 0.5;">
                <div class="card-body p-4">
                    <h3 class="fw-semibold mb-3" style="color: var(--foreground);">ì—°ë½ì²˜ ì •ë³´</h3>
                    <div class="d-flex flex-column gap-3">
                        <!-- ì „í™”ë²ˆí˜¸ -->
                        <div class="d-flex align-items-center justify-content-between">
                            <div class="d-flex align-items-center gap-3">
                                <div class="d-flex align-items-center justify-content-center rounded-2" 
                                     style="width: 2rem; height: 2rem; background: var(--primary); background-opacity: 0.1;">
                                    <i class="fas fa-phone" style="font-size: 1rem; color: var(--primary);"></i>
                                </div>
                                <div>
                                    <p class="mb-0" style="font-size: 0.75rem; color: var(--muted-foreground);">ì „í™”ë²ˆí˜¸</p>
                                    <p class="mb-0 fw-medium" style="font-size: 0.875rem; color: var(--foreground);">010-5240-7719</p>
                                </div>
                            </div>
                            <a href="tel:02-1234-5678" class="btn btn-outline-primary btn-sm">ì—°ê²°</a>
                        </div>
                        <!-- ì£¼ì†Œ -->
                        <div class="d-flex align-items-center justify-content-between">
                            <div class="d-flex align-items-center gap-3">
                                <div class="d-flex align-items-center justify-content-center rounded-2" 
                                     style="width: 2rem; height: 2rem; background: var(--primary); background-opacity: 0.1;">
                                    <i class="fas fa-map-marker-alt" style="font-size: 1rem; color: var(--primary);"></i>
                                </div>
                                <div>
                                    <p class="mb-0" style="font-size: 0.75rem; color: var(--muted-foreground);">ì£¼ì†Œ</p>
                                    <p class="mb-0 fw-medium" style="font-size: 0.875rem; color: var(--foreground);">ê²½ê¸° í•˜ë‚¨ì‹œ ë”ìš°ê°œë¡œ 49</p>
                                </div>
                            </div>
                            <a href="https://map.naver.com/p/search/%ED%95%98%EB%82%A8%EC%A3%BC%EC%82%AC%EB%9E%91%EA%B5%90%ED%9A%8C/place/12980252?c=15.00,0,0,0,dh&placePath=/home?entry=pll&from=map&fromPanelNum=2&timestamp=202509231735&locale=ko&svcName=map_pcv5&searchText=%ED%95%98%EB%82%A8%EC%A3%BC%EC%82%AC%EB%9E%91%EA%B5%90%ED%9A%8C" target="_blank" class="btn btn-outline-primary btn-sm">ì§€ë„ë³´ê¸°</a>
                        </div>
                    </div>
                </div>
            </div>

            <!-- êµí†µí¸ -->
            <div class="card mb-4" style="border: 1px solid var(--border); border-opacity: 0.5;">
                <div class="card-body p-4">
                    <h3 class="fw-semibold mb-3" style="color: var(--foreground);">êµí†µí¸</h3>
                    <div class="d-flex flex-column gap-3">
                        <div class="d-flex align-items-center gap-3">
                            <div class="d-flex align-items-center justify-content-center rounded-2" 
                                 style="width: 2rem; height: 2rem; background: var(--secondary); background-opacity: 0.5;">
                                <i class="fas fa-subway" style="font-size: 1rem; color: var(--secondary-foreground);"></i>
                            </div>
                            <div>
                                <p class="fw-medium mb-0" style="font-size: 0.875rem; color: var(--foreground);">ì§€í•˜ì² </p>
                                <p class="mb-0" style="font-size: 0.75rem; color: var(--muted-foreground);">5í˜¸ì„  í•˜ë‚¨ì‹œì²­ì—­ 1ë²ˆ ì¶œêµ¬ ë²„ìŠ¤ ì´ìš©</p>
                            </div>
                        </div>
                        <div class="d-flex align-items-center gap-3">
                            <div class="d-flex align-items-center justify-content-center rounded-2" 
                                 style="width: 2rem; height: 2rem; background: var(--secondary); background-opacity: 0.5;">
                                <i class="fas fa-car" style="font-size: 1rem; color: var(--secondary-foreground);"></i>
                            </div>
                            <div>
                                <p class="fw-medium mb-0" style="font-size: 0.875rem; color: var(--foreground);">ì£¼ì°¨</p>
                                <p class="mb-0" style="font-size: 0.75rem; color: var(--muted-foreground);">êµíšŒ ì£¼ì°¨ì¥ ì´ìš© ê°€ëŠ¥</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- êµì—­ì ì—°ë½ì²˜ -->
            <div class="card mb-4" style="border: 1px solid var(--border); border-opacity: 0.5;">
                <div class="card-body p-4">
                    <h3 class="fw-semibold mb-3" style="color: var(--foreground);">êµì—­ì ì—°ë½ì²˜</h3>
                    <div class="d-flex flex-column gap-3">
                        <div class="d-flex align-items-center justify-content-between">
                            <div>
                                <p class="fw-medium mb-0" style="font-size: 0.875rem; color: var(--foreground);">ë°•ë°”ìš¸ ëª©ì‚¬</p>
                                <p class="mb-0" style="font-size: 0.75rem; color: var(--muted-foreground);">ì²­ë…„ë¶€ ë‹´ë‹¹ ëª©ì‚¬</p>
                            </div>
                            <a href="tel:02-1234-5679" class="btn btn-outline-primary btn-sm">ì—°ë½</a>
                        </div>
                        <div class="d-flex align-items-center justify-content-between">
                        </div>
                    </div>
                </div>
            </div>

            <!-- ë””ì§€í„¸ ì£¼ë³´ QR -->
            <div class="card" style="border: 1px solid var(--border); border-opacity: 0.5;">
                <div class="card-body p-4">
                    <div class="text-center">
                        <h3 class="fw-semibold mb-1" style="color: var(--foreground);">ë””ì§€í„¸ ì£¼ë³´</h3>
                        <p class="mb-3" style="font-size: 0.75rem; color: var(--muted-foreground);">QR ì½”ë“œë¥¼ ìŠ¤ìº”í•˜ì—¬ ì˜¨ë¼ì¸ ì£¼ë³´ë¥¼ í™•ì¸í•˜ì„¸ìš”</p>
                        
                        <!-- QR ì½”ë“œ ì´ë¯¸ì§€ -->
                        <div class="mb-3" th:if="${qrCodeImage != null}">
                            <img th:src="'data:image/png;base64,' + ${qrCodeImage}" 
                                 alt="QR ì½”ë“œ" 
                                 class="img-fluid rounded shadow-sm" 
                                 style="max-width: 200px; margin: 0 auto;">
                        </div>
                        
                        <!-- QR ì½”ë“œê°€ ì—†ì„ ê²½ìš° ì•„ì´ì½˜ í‘œì‹œ -->
                        <div class="d-flex align-items-center justify-content-center rounded-2 mx-auto mb-3" 
                             th:if="${qrCodeImage == null}"
                             style="width: 4rem; height: 4rem; background: var(--primary); background-opacity: 0.1;">
                            <i class="fas fa-qrcode" style="font-size: 2rem; color: var(--primary);"></i>
                        </div>
                        
                        <!-- QR ì½”ë“œ ê³µìœ  ë²„íŠ¼ -->
                        <button class="btn btn-outline-primary btn-sm" onclick="shareQRCode()">
                            <i class="fas fa-share-alt me-1"></i> ì£¼ë³´ ê³µìœ í•˜ê¸°
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- QR ì½”ë“œ ê³µìœ  ìŠ¤í¬ë¦½íŠ¸ -->
            <script th:inline="javascript">
                function shareQRCode() {
                    // Railway ë°°í¬ ì£¼ì†Œ ì‚¬ìš©
                    const url = 'https://bulletin-production.up.railway.app';
                    console.log('ê³µìœ í•  URL:', url);
                    
                    if (navigator.share) {
                        navigator.share({
                            title: 'ì£¼ì‚¬ë‘êµíšŒ ì²­ë…„ë¶€ ì£¼ë³´',
                            text: 'ì£¼ì‚¬ë‘êµíšŒ ì²­ë…„ë¶€ ë””ì§€í„¸ ì£¼ë³´ë¥¼ í™•ì¸í•˜ì„¸ìš”!',
                            url: url
                        })
                        .then(() => {
                            console.log('ê³µìœ  ì„±ê³µ');
                            alert('ê³µìœ ê°€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!');
                        })
                        .catch((error) => {
                            console.log('ê³µìœ  ì‹¤íŒ¨:', error);
                            // ê³µìœ  ì‹¤íŒ¨ ì‹œ í´ë¦½ë³´ë“œ ë³µì‚¬ë¡œ ëŒ€ì²´
                            copyToClipboard(url);
                        });
                    } else {
                        // ê³µìœ  APIê°€ ì§€ì›ë˜ì§€ ì•ŠëŠ” ê²½ìš° URL ë³µì‚¬
                        copyToClipboard(url);
                    }
                }
                
                function copyToClipboard(text) {
                    if (navigator.clipboard && window.isSecureContext) {
                        // HTTPS í™˜ê²½ì—ì„œ í´ë¦½ë³´ë“œ API ì‚¬ìš©
                        navigator.clipboard.writeText(text)
                            .then(() => {
                                alert('ì£¼ì†Œê°€ í´ë¦½ë³´ë“œì— ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!');
                            })
                            .catch(err => {
                                console.error('í´ë¦½ë³´ë“œ ë³µì‚¬ ì‹¤íŒ¨:', err);
                                fallbackCopyTextToClipboard(text);
                            });
                    } else {
                        // HTTP í™˜ê²½ì—ì„œ fallback ë°©ë²• ì‚¬ìš©
                        fallbackCopyTextToClipboard(text);
                    }
                }
                
                function fallbackCopyTextToClipboard(text) {
                    const textArea = document.createElement("textarea");
                    textArea.value = text;
                    textArea.style.position = "fixed";
                    textArea.style.left = "-999999px";
                    textArea.style.top = "-999999px";
                    document.body.appendChild(textArea);
                    textArea.focus();
                    textArea.select();
                    
                    try {
                        const successful = document.execCommand('copy');
                        if (successful) {
                            alert('ì£¼ì†Œê°€ í´ë¦½ë³´ë“œì— ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!');
                        } else {
                            alert('ë³µì‚¬ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ìˆ˜ë™ìœ¼ë¡œ ì£¼ì†Œë¥¼ ë³µì‚¬í•´ì£¼ì„¸ìš”: ' + text);
                        }
                    } catch (err) {
                        console.error('Fallback ë³µì‚¬ ì‹¤íŒ¨:', err);
                        alert('ë³µì‚¬ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ìˆ˜ë™ìœ¼ë¡œ ì£¼ì†Œë¥¼ ë³µì‚¬í•´ì£¼ì„¸ìš”: ' + text);
                    }
                    
                    document.body.removeChild(textArea);
                }
            </script>
        </section>
    </div>

    <!-- í•˜ë‹¨ ë„¤ë¹„ê²Œì´ì…˜ ë° ìƒˆë¡œê³ ì¹¨ ë²„íŠ¼ -->
    <th:block th:replace="~{fragments/bottom-nav :: bottom-nav}"></th:block>
    <th:block th:replace="~{fragments/bottom-nav :: refresh-btn}"></th:block>

    <!-- ì£¼ë³´ ë·°ì–´ -->
    <div id="bulletinViewer" class="bulletin-viewer" style="display: none;">
        <button class="bulletin-home-btn" onclick="closeBulletinViewer()">
            <i class="fas fa-home"></i>
        </button>
        
        <button class="bulletin-edit-btn" onclick="openEditDialog()">
            <i class="fas fa-edit"></i>
        </button>
        
        <div class="bulletin-page-indicator">
            <span id="currentPageNum">1</span> / <span id="totalPageNum">4</span>
        </div>
        
        <div class="bulletin-container" id="bulletinContainer">
            <img id="bulletinImage" src="" alt="ì£¼ë³´ í˜ì´ì§€" class="bulletin-image">
        </div>
        
        <button class="bulletin-nav-btn bulletin-prev-btn" id="prevBtn" onclick="goToPrevPage()">
            <i class="fas fa-chevron-left"></i>
        </button>
        
        <button class="bulletin-nav-btn bulletin-next-btn" id="nextBtn" onclick="goToNextPage()">
            <i class="fas fa-chevron-right"></i>
        </button>
        
        <div class="bulletin-dots">
            <button class="bulletin-dot" onclick="goToPage(0)"></button>
            <button class="bulletin-dot" onclick="goToPage(1)"></button>
            <button class="bulletin-dot" onclick="goToPage(2)"></button>
            <button class="bulletin-dot" onclick="goToPage(3)"></button>
        </div>
    </div>

    <!-- í¸ì§‘ ëª¨ë‹¬ -->
    <div id="editDialog" class="edit-dialog" style="display: none;">
        <div class="edit-dialog-overlay" onclick="closeEditDialog()"></div>
        <div class="edit-dialog-content">
            <div class="edit-dialog-header">
                <h3 class="edit-dialog-title"><span id="editPageNum">1</span>í˜ì´ì§€ í¸ì§‘</h3>
                <p class="edit-dialog-description">ì´ë¯¸ì§€ URLê³¼ ì„¤ëª…ì„ ìˆ˜ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
            </div>
            
            <div class="edit-dialog-body">
                <div class="form-group">
                    <label for="editImageUrl" class="form-label">ì´ë¯¸ì§€ URL</label>
                    <input type="text" id="editImageUrl" class="form-input" placeholder="https://example.com/image.jpg">
                </div>
                
                <div class="form-group">
                    <label class="form-label">ë˜ëŠ” ì´ë¯¸ì§€ ì—…ë¡œë“œ</label>
                    <div class="upload-area">
                        <input type="file" id="imageFileInput" accept="image/*" style="display: none;">
                        <button type="button" class="btn btn-outline upload-btn" onclick="document.getElementById('imageFileInput').click()">
                            <i class="fas fa-upload"></i> íŒŒì¼ ì„ íƒ
                        </button>
                        <span id="uploadFileName" class="upload-file-name"></span>
                        <div id="uploadProgress" class="upload-progress" style="display: none;">
                            <div class="upload-progress-bar"></div>
                        </div>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="editAlt" class="form-label">ì´ë¯¸ì§€ ì„¤ëª…</label>
                    <input type="text" id="editAlt" class="form-input" placeholder="ì´ë¯¸ì§€ ì„¤ëª…ì„ ì…ë ¥í•˜ì„¸ìš”">
                </div>
                
                <div class="form-group">
                    <label class="form-label">ë¯¸ë¦¬ë³´ê¸°</label>
                    <div class="preview-container">
                        <img id="previewImage" src="" alt="ë¯¸ë¦¬ë³´ê¸°" class="preview-image">
                    </div>
                </div>
            </div>
            
            <div class="edit-dialog-footer">
                <button class="btn btn-outline" onclick="closeEditDialog()">ì·¨ì†Œ</button>
                <button class="btn btn-primary" onclick="saveEdit()">ì €ì¥</button>
            </div>
        </div>
    </div>

    <style>
        .bulletin-viewer {
            position: fixed;
            inset: 0;
            background: var(--background);
            z-index: 9999;
        }
        
        .bulletin-home-btn, .bulletin-edit-btn {
            position: absolute;
            top: 1rem;
            z-index: 20;
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(8px);
            border: none;
            border-radius: 8px;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .bulletin-home-btn {
            left: 1rem;
        }
        
        .bulletin-edit-btn {
            left: 4rem;
        }
        
        .bulletin-home-btn:hover, .bulletin-edit-btn:hover {
            background: rgba(255, 255, 255, 0.9);
        }
        
        .bulletin-home-btn i, .bulletin-edit-btn i {
            font-size: 1.25rem;
            color: var(--foreground);
        }
        
        .bulletin-page-indicator {
            position: absolute;
            top: 1rem;
            right: 1rem;
            z-index: 10;
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(8px);
            padding: 0.5rem 1rem;
            border-radius: 9999px;
            font-size: 0.875rem;
            font-weight: 500;
        }
        
        .bulletin-container {
            position: relative;
            width: 100%;
            height: 100%;
            background: var(--muted);
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }
        
        .bulletin-image {
            width: 100%;
            height: 100%;
            object-fit: contain;
            user-select: none;
        }
        
        .bulletin-nav-btn {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(8px);
            border: none;
            border-radius: 8px;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s;
            z-index: 10;
        }
        
        .bulletin-nav-btn:hover:not(:disabled) {
            background: rgba(255, 255, 255, 0.9);
        }
        
        .bulletin-nav-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        .bulletin-prev-btn {
            left: 0.5rem;
        }
        
        .bulletin-next-btn {
            right: 0.5rem;
        }
        
        .bulletin-nav-btn i {
            font-size: 1.25rem;
            color: var(--foreground);
        }
        
        .bulletin-dots {
            position: absolute;
            bottom: 1.5rem;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 0.5rem;
            z-index: 10;
        }
        
        .bulletin-dot {
            width: 8px;
            height: 8px;
            border-radius: 9999px;
            background: rgba(0, 0, 0, 0.3);
            border: none;
            cursor: pointer;
            transition: all 0.3s;
            padding: 0;
        }
        
        .bulletin-dot:hover {
            background: rgba(0, 0, 0, 0.5);
        }
        
        .bulletin-dot.active {
            background: var(--primary);
            width: 32px;
        }
        
        /* í¸ì§‘ ëª¨ë‹¬ ìŠ¤íƒ€ì¼ */
        .edit-dialog {
            position: fixed;
            inset: 0;
            z-index: 10000;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .edit-dialog-overlay {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(4px);
        }
        
        .edit-dialog-content {
            position: relative;
            background: var(--card);
            border-radius: 12px;
            max-width: 500px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
            z-index: 10001;
        }
        
        .edit-dialog-header {
            padding: 1.5rem;
            border-bottom: 1px solid var(--border);
        }
        
        .edit-dialog-title {
            font-size: 1.25rem;
            font-weight: 600;
            color: var(--foreground);
            margin: 0 0 0.5rem 0;
        }
        
        .edit-dialog-description {
            font-size: 0.875rem;
            color: var(--muted-foreground);
            margin: 0;
        }
        
        .edit-dialog-body {
            padding: 1.5rem;
        }
        
        .form-group {
            margin-bottom: 1rem;
        }
        
        .form-group:last-child {
            margin-bottom: 0;
        }
        
        .form-label {
            display: block;
            font-size: 0.875rem;
            font-weight: 500;
            color: var(--foreground);
            margin-bottom: 0.5rem;
        }
        
        .form-input {
            width: 100%;
            padding: 0.5rem 0.75rem;
            font-size: 0.875rem;
            border: 1px solid var(--border);
            border-radius: 6px;
            background: var(--background);
            color: var(--foreground);
            transition: all 0.2s;
        }
        
        .form-input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(103, 126, 234, 0.1);
        }
        
        .preview-container {
            border: 1px solid var(--border);
            border-radius: 8px;
            overflow: hidden;
            background: var(--muted);
            min-height: 200px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .preview-image {
            width: 100%;
            height: 200px;
            object-fit: contain;
        }
        
        .edit-dialog-footer {
            padding: 1.5rem;
            border-top: 1px solid var(--border);
            display: flex;
            gap: 0.5rem;
            justify-content: flex-end;
        }
        
        .btn {
            padding: 0.5rem 1rem;
            font-size: 0.875rem;
            font-weight: 500;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s;
            border: none;
        }
        
        .btn-outline {
            background: transparent;
            border: 1px solid var(--border);
            color: var(--foreground);
        }
        
        .btn-outline:hover {
            background: var(--accent);
        }
        
        .btn-primary {
            background: var(--primary);
            color: var(--primary-foreground);
        }
        
        .btn-primary:hover {
            opacity: 0.9;
        }
        
        .upload-area {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }
        
        .upload-btn {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            width: fit-content;
        }
        
        .upload-file-name {
            font-size: 0.875rem;
            color: var(--muted-foreground);
        }
        
        .upload-progress {
            width: 100%;
            height: 4px;
            background: var(--muted);
            border-radius: 2px;
            overflow: hidden;
        }
        
        .upload-progress-bar {
            height: 100%;
            background: var(--primary);
            width: 0%;
            transition: width 0.3s;
        }
    </style>

    <script>
        let bulletinPages = [];
        let currentPage = 0;
        let touchStartX = 0;
        let touchEndX = 0;
        const minSwipeDistance = 50;
        
        // APIì—ì„œ ì£¼ë³´ í˜ì´ì§€ ë°ì´í„° ë¡œë“œ
        async function loadBulletinPages() {
            try {
                const response = await fetch('/api/bulletin-pages');
                const data = await response.json();
                bulletinPages = data.map(page => ({
                    id: page.id,
                    image: page.imageUrl,
                    alt: page.alt
                }));
                return true;
            } catch (error) {
                console.error('ì£¼ë³´ í˜ì´ì§€ ë¡œë“œ ì‹¤íŒ¨:', error);
                alert('ì£¼ë³´ í˜ì´ì§€ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ”ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');
                return false;
            }
        }
        
        async function openBulletinViewer() {
            // ë°ì´í„°ê°€ ì—†ìœ¼ë©´ APIì—ì„œ ë¡œë“œ
            if (bulletinPages.length === 0) {
                const loaded = await loadBulletinPages();
                if (!loaded) return;
            }
            
            document.getElementById('bulletinViewer').style.display = 'block';
            document.body.style.overflow = 'hidden';
            goToPage(0);
        }
        
        function closeBulletinViewer() {
            document.getElementById('bulletinViewer').style.display = 'none';
            document.body.style.overflow = 'auto';
        }
        
        function goToPage(pageIndex) {
            currentPage = pageIndex;
            const bulletinImage = document.getElementById('bulletinImage');
            bulletinImage.src = bulletinPages[pageIndex].image;
            bulletinImage.alt = bulletinPages[pageIndex].alt;
            
            document.getElementById('currentPageNum').textContent = pageIndex + 1;
            document.getElementById('totalPageNum').textContent = bulletinPages.length;
            
            // ë²„íŠ¼ ìƒíƒœ ì—…ë°ì´íŠ¸
            document.getElementById('prevBtn').disabled = pageIndex === 0;
            document.getElementById('nextBtn').disabled = pageIndex === bulletinPages.length - 1;
            
            // ì  í‘œì‹œ ì—…ë°ì´íŠ¸
            const dots = document.querySelectorAll('.bulletin-dot');
            dots.forEach((dot, index) => {
                if (index === pageIndex) {
                    dot.classList.add('active');
                } else {
                    dot.classList.remove('active');
                }
            });
        }
        
        function goToNextPage() {
            if (currentPage < bulletinPages.length - 1) {
                goToPage(currentPage + 1);
            }
        }
        
        function goToPrevPage() {
            if (currentPage > 0) {
                goToPage(currentPage - 1);
            }
        }
        
        function openEditDialog() {
            const currentPageData = bulletinPages[currentPage];
            document.getElementById('editPageNum').textContent = currentPage + 1;
            document.getElementById('editImageUrl').value = currentPageData.image;
            document.getElementById('editAlt').value = currentPageData.alt;
            document.getElementById('previewImage').src = currentPageData.image;
            document.getElementById('editDialog').style.display = 'flex';
        }
        
        function closeEditDialog() {
            document.getElementById('editDialog').style.display = 'none';
        }
        
        async function saveEdit() {
            const newImageUrl = document.getElementById('editImageUrl').value;
            const newAlt = document.getElementById('editAlt').value;
            
            if (!newImageUrl) {
                alert('ì´ë¯¸ì§€ URLì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }
            
            const pageId = bulletinPages[currentPage].id;
            
            try {
                const response = await fetch(`/api/bulletin-pages/${pageId}`, {
                    method: 'PUT',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        pageNumber: currentPage + 1,
                        imageUrl: newImageUrl,
                        alt: newAlt
                    })
                });
                
                if (!response.ok) {
                    throw new Error('ì €ì¥ ì‹¤íŒ¨');
                }
                
                const updatedPage = await response.json();
                
                // ë¡œì»¬ ë°ì´í„° ì—…ë°ì´íŠ¸
                bulletinPages[currentPage].image = updatedPage.imageUrl;
                bulletinPages[currentPage].alt = updatedPage.alt;
                
                goToPage(currentPage);
                closeEditDialog();
                
                alert('í˜ì´ì§€ê°€ ìˆ˜ì •ë˜ì—ˆìŠµë‹ˆë‹¤!');
            } catch (error) {
                console.error('í˜ì´ì§€ ì €ì¥ ì‹¤íŒ¨:', error);
                alert('í˜ì´ì§€ ì €ì¥ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');
            }
        }
        
        // íŒŒì¼ ì—…ë¡œë“œ ì²˜ë¦¬
        async function uploadImageFile(file) {
            const formData = new FormData();
            formData.append('file', file);
            
            const progressBar = document.querySelector('.upload-progress-bar');
            const progressContainer = document.getElementById('uploadProgress');
            
            progressContainer.style.display = 'block';
            progressBar.style.width = '0%';
            
            try {
                // í”„ë¡œê·¸ë ˆìŠ¤ ë°” ì• ë‹ˆë©”ì´ì…˜
                let progress = 0;
                const progressInterval = setInterval(() => {
                    progress += 10;
                    if (progress >= 90) {
                        clearInterval(progressInterval);
                    }
                    progressBar.style.width = progress + '%';
                }, 100);
                
                const response = await fetch('/api/bulletin-pages/upload-image', {
                    method: 'POST',
                    body: formData
                });
                
                clearInterval(progressInterval);
                progressBar.style.width = '100%';
                
                if (!response.ok) {
                    throw new Error('ì—…ë¡œë“œ ì‹¤íŒ¨');
                }
                
                const data = await response.json();
                
                // ì—…ë¡œë“œëœ ì´ë¯¸ì§€ URL ì„¤ì • (Cloudinary URL ì§ì ‘ ì‚¬ìš©)
                const imageUrl = data.imageUrl;
                document.getElementById('editImageUrl').value = imageUrl;
                document.getElementById('previewImage').src = imageUrl;
                document.getElementById('uploadFileName').textContent = data.fileName;
                
                setTimeout(() => {
                    progressContainer.style.display = 'none';
                }, 500);
                
                return imageUrl;
            } catch (error) {
                console.error('ì´ë¯¸ì§€ ì—…ë¡œë“œ ì‹¤íŒ¨:', error);
                alert('ì´ë¯¸ì§€ ì—…ë¡œë“œì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');
                progressContainer.style.display = 'none';
                return null;
            }
        }
        
        // ì´ë¯¸ì§€ URL ì…ë ¥ ì‹œ ë¯¸ë¦¬ë³´ê¸° ì—…ë°ì´íŠ¸
        document.addEventListener('DOMContentLoaded', function() {
            const editImageUrlInput = document.getElementById('editImageUrl');
            if (editImageUrlInput) {
                editImageUrlInput.addEventListener('input', function(e) {
                    const previewImage = document.getElementById('previewImage');
                    if (previewImage) {
                        previewImage.src = e.target.value || '';
                    }
                });
            }
            
            // íŒŒì¼ ì„ íƒ ì´ë²¤íŠ¸
            const imageFileInput = document.getElementById('imageFileInput');
            if (imageFileInput) {
                imageFileInput.addEventListener('change', async function(e) {
                    const file = e.target.files[0];
                    if (file) {
                        // íŒŒì¼ íƒ€ì… ê²€ì¦
                        if (!file.type.startsWith('image/')) {
                            alert('ì´ë¯¸ì§€ íŒŒì¼ë§Œ ì—…ë¡œë“œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.');
                            return;
                        }
                        
                        // íŒŒì¼ í¬ê¸° ê²€ì¦ (10MB)
                        if (file.size > 10 * 1024 * 1024) {
                            alert('íŒŒì¼ í¬ê¸°ëŠ” 10MB ì´í•˜ì—¬ì•¼ í•©ë‹ˆë‹¤.');
                            return;
                        }
                        
                        await uploadImageFile(file);
                    }
                });
            }
        });
        
        // í„°ì¹˜ ì´ë²¤íŠ¸ ì²˜ë¦¬
        const bulletinContainer = document.getElementById('bulletinContainer');
        
        bulletinContainer.addEventListener('touchstart', (e) => {
            touchStartX = e.touches[0].clientX;
            touchEndX = 0;
        });
        
        bulletinContainer.addEventListener('touchmove', (e) => {
            touchEndX = e.touches[0].clientX;
        });
        
        bulletinContainer.addEventListener('touchend', () => {
            if (!touchStartX || !touchEndX) return;
            
            const distance = touchStartX - touchEndX;
            const isLeftSwipe = distance > minSwipeDistance;
            const isRightSwipe = distance < -minSwipeDistance;
            
            if (isLeftSwipe && currentPage < bulletinPages.length - 1) {
                goToNextPage();
            }
            if (isRightSwipe && currentPage > 0) {
                goToPrevPage();
            }
        });
        
        // í‚¤ë³´ë“œ ë„¤ë¹„ê²Œì´ì…˜
        document.addEventListener('keydown', (e) => {
            const viewer = document.getElementById('bulletinViewer');
            if (viewer.style.display === 'none') return;
            
            if (e.key === 'ArrowLeft') {
                goToPrevPage();
            } else if (e.key === 'ArrowRight') {
                goToNextPage();
            } else if (e.key === 'Escape') {
                closeBulletinViewer();
            }
        });
    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- ë„¤ë¹„ê²Œì´ì…˜ ìŠ¤í¬ë¦½íŠ¸ -->
    <th:block th:replace="~{fragments/bottom-nav :: navigation-scripts}"></th:block>
</body>
</html>