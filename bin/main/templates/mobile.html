<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>주사랑교회 청년부 주보</title>
    
    <!-- PWA 메타 태그 -->
    <meta name="description" content="주사랑교회 청년부를 위한 모바일 주보 앱">
    <meta name="theme-color" content="#667eea">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="청년부 주보">
    
    <!-- 매니페스트 -->
    <link rel="manifest" href="/manifest.json">
    
    <!-- 파비콘 (기본 브라우저 아이콘 사용) -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    
    <!-- 공통 스타일 -->
    <th:block th:replace="~{fragments/styles :: styles}"></th:block>
</head>
<body>
    <!-- 헤더 -->
    <th:block th:replace="~{fragments/header :: header(${currentDate})}"></th:block>

    <div class="container-fluid px-3 py-3">
        <!-- 교회 정보 -->
        <th:block th:replace="~{fragments/church-info :: church-info}"></th:block>

        <!-- 청년부 예배 일정 -->
        <section class="p-4" style="background: var(--muted); background-opacity: 0.3;">
            <div class="mb-4">
                <h2 class="h5 fw-bold mb-1" style="color: var(--foreground);">청년부 예배 일정</h2>
                <p style="font-size: 0.875rem; color: var(--muted-foreground);">주차별로 다양한 형태의 예배와 모임을 진행해요</p>
            </div>

            <div class="d-flex flex-column gap-3">
                <!-- 1주차: 청년주관 오후예배 -->
                <div class="card" style="border: 1px solid var(--border); border-opacity: 0.5; background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);">
                    <div class="card-body p-4">
                        <div class="d-flex align-items-center justify-content-between">
                            <div class="flex-grow-1">
                                <div class="d-flex align-items-center gap-2 mb-2">
                                    <h3 class="fw-semibold mb-0" style="color: white;">1주차: 청년주관 오후예배</h3>
                                    <span class="badge px-2 py-1 rounded-pill" style="font-size: 0.75rem; background: rgba(255,255,255,0.2); color: white;">매월 첫째주</span>
                                </div>
                                <div class="d-flex flex-column gap-1">
                                    <div class="d-flex align-items-center gap-2" style="font-size: 0.875rem; color: rgba(255,255,255,0.9);">
                                        <i class="fas fa-clock" style="width: 1rem; height: 1rem;"></i>
                                        <span>오후 2:00</span>
                                    </div>
                                    <div class="d-flex align-items-center gap-2" style="font-size: 0.875rem; color: rgba(255,255,255,0.9);">
                                        <i class="fas fa-map-marker-alt" style="width: 1rem; height: 1rem;"></i>
                                        <span>2층 예배당</span>
                                    </div>
                                </div>
                            </div>
                            <div class="text-end">
                                <i class="fas fa-users" style="font-size: 2rem; color: rgba(255,255,255,0.3);"></i>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 2주차: 청년부 자체 예배 -->
                <div class="card" style="border: 1px solid var(--border); border-opacity: 0.5;">
                    <div class="card-body p-4">
                        <div class="d-flex align-items-center justify-content-between">
                            <div class="flex-grow-1">
                                <div class="d-flex align-items-center gap-2 mb-2">
                                    <h3 class="fw-semibold mb-0" style="color: var(--foreground);">2주차: 청년부 자체 예배</h3>
                                    <span class="badge px-2 py-1 rounded-pill" style="font-size: 0.75rem; background: var(--secondary); background-opacity: 0.8; color: var(--secondary-foreground);">매월 둘째주</span>
                                </div>
                                <div class="d-flex flex-column gap-1">
                                    <div class="d-flex align-items-center gap-2" style="font-size: 0.875rem; color: var(--muted-foreground);">
                                        <i class="fas fa-clock" style="width: 1rem; height: 1rem;"></i>
                                        <span>오후 1:00</span>
                                    </div>
                                    <div class="d-flex align-items-center gap-2" style="font-size: 0.875rem; color: var(--muted-foreground);">
                                        <i class="fas fa-map-marker-alt" style="width: 1rem; height: 1rem;"></i>
                                        <span>지하1층 중고등부실</span>
                                    </div>
                                </div>
                            </div>
                            <div class="text-end">
                                <p class="mb-0" style="font-size: 0.875rem; color: var(--muted-foreground);">예배</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 3주차: 청년부 자체 예배 -->
                <div class="card" style="border: 1px solid var(--border); border-opacity: 0.5;">
                    <div class="card-body p-4">
                        <div class="d-flex align-items-center justify-content-between">
                            <div class="flex-grow-1">
                                <div class="d-flex align-items-center gap-2 mb-2">
                                    <h3 class="fw-semibold mb-0" style="color: var(--foreground);">3주차: 청년부 자체 예배</h3>
                                    <span class="badge px-2 py-1 rounded-pill" style="font-size: 0.75rem; background: var(--secondary); background-opacity: 0.8; color: var(--secondary-foreground);">매월 셋째주</span>
                                </div>
                                <div class="d-flex flex-column gap-1">
                                    <div class="d-flex align-items-center gap-2" style="font-size: 0.875rem; color: var(--muted-foreground);">
                                        <i class="fas fa-clock" style="width: 1rem; height: 1rem;"></i>
                                        <span>오후 1:00</span>
                                    </div>
                                    <div class="d-flex align-items-center gap-2" style="font-size: 0.875rem; color: var(--muted-foreground);">
                                        <i class="fas fa-map-marker-alt" style="width: 1rem; height: 1rem;"></i>
                                        <span>지하1층 중고등부실</span>
                                    </div>
                                </div>
                            </div>
                            <div class="text-end">
                                <p class="mb-0" style="font-size: 0.875rem; color: var(--muted-foreground);">예배</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 4주차: 청년부 자체 기도회 -->
                <div class="card" style="border: 1px solid var(--border); border-opacity: 0.5; background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);">
                    <div class="card-body p-4">
                        <div class="d-flex align-items-center justify-content-between">
                            <div class="flex-grow-1">
                                <div class="d-flex align-items-center gap-2 mb-2">
                                    <h3 class="fw-semibold mb-0" style="color: white;">4주차: 청년부 자체 기도회</h3>
                                    <span class="badge px-2 py-1 rounded-pill" style="font-size: 0.75rem; background: rgba(255,255,255,0.2); color: white;">매월 넷째주</span>
                                </div>
                                <div class="d-flex flex-column gap-1">
                                    <div class="d-flex align-items-center gap-2" style="font-size: 0.875rem; color: rgba(255,255,255,0.9);">
                                        <i class="fas fa-clock" style="width: 1rem; height: 1rem;"></i>
                                        <span>오후 1:00</span>
                                    </div>
                                    <div class="d-flex align-items-center gap-2" style="font-size: 0.875rem; color: rgba(255,255,255,0.9);">
                                        <i class="fas fa-map-marker-alt" style="width: 1rem; height: 1rem;"></i>
                                        <span>지하1층 중고등부실</span>
                                    </div>
                                </div>
                            </div>
                            <div class="text-end">
                                <i class="fas fa-church" style="font-size: 2rem; color: rgba(255,255,255,0.3);"></i>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 5주차: 애찬모임 -->
                <div class="card" style="border: 1px solid var(--border); border-opacity: 0.5; background: linear-gradient(135deg, #f59e0b 0%, #f97316 100%);">
                    <div class="card-body p-4">
                        <div class="d-flex align-items-center justify-content-between">
                            <div class="flex-grow-1">
                                <div class="d-flex align-items-center gap-2 mb-2">
                                    <h3 class="fw-semibold mb-0" style="color: white;">5주차: 애찬모임</h3>
                                    <span class="badge px-2 py-1 rounded-pill" style="font-size: 0.75rem; background: rgba(255,255,255,0.2); color: white;">5주차가 있는 달</span>
                                </div>
                                <div class="d-flex flex-column gap-1">
                                    <div class="d-flex align-items-center gap-2" style="font-size: 0.875rem; color: rgba(255,255,255,0.9);">
                                        <i class="fas fa-clock" style="width: 1rem; height: 1rem;"></i>
                                        <span>오후 1:00</span>
                                    </div>
                                    <div class="d-flex align-items-center gap-2" style="font-size: 0.875rem; color: rgba(255,255,255,0.9);">
                                        <i class="fas fa-utensils" style="width: 1rem; height: 1rem;"></i>
                                        <span>공지 확인</span>
                                    </div>
                                </div>
                            </div>
                            <div class="text-end">
                                <i class="fas fa-heart" style="font-size: 2rem; color: rgba(255,255,255,0.3);"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 안내 메시지 -->
            <div class="mt-4 p-3 rounded-3" style="background: var(--accent); background-opacity: 0.5;">
                <div class="d-flex align-items-start gap-3">
                    <i class="fas fa-info-circle" style="color: var(--primary); margin-top: 0.125rem;"></i>
                    <div>
                        <p class="fw-medium mb-1" style="color: var(--foreground); font-size: 0.875rem;">📅 주차별 예배 안내</p>
                        <p class="mb-0" style="color: var(--muted-foreground); font-size: 0.75rem; line-height: 1.4;">
                            매월 주차에 따라 다른 형태의 예배와 모임을 진행합니다. 자세한 일정은 청년부 단체 채팅방을 확인해주세요!
                        </p>
                    </div>
                </div>
            </div>
        </section>

        <!-- 성경구절 -->
        <div class="bible-card p-3 mb-3" th:if="${not #lists.isEmpty(bulletin.bibleVerses)}">
            <div th:each="verse : ${bulletin.bibleVerses}">
                <h6 class="mb-2">
                    <i class="fas fa-bible me-2"></i>
                    <span th:text="${verse.verseReference}">요한복음 3:16</span>
                </h6>
                <p class="mb-0 small" th:text="${verse.verseText}">하나님이 세상을 이처럼 사랑하사...</p>
            </div>
        </div>

        <!-- 교회 소식 (Announcements) -->
        <section class="p-4">
            <div class="d-flex align-items-center justify-content-between mb-4">
                <h2 class="h5 fw-bold mb-0" style="color: var(--foreground);">교회 소식</h2>
                <button class="btn btn-sm" style="background: none; border: none; color: var(--primary); display: flex; align-items-center; gap: 0.25rem;">
                    전체보기 <i class="fas fa-chevron-right" style="font-size: 0.75rem;"></i>
                </button>
            </div>

            <div class="d-flex flex-column gap-3" th:if="${not #lists.isEmpty(bulletin.announcements)}">
                <div class="card border-0 shadow-sm" 
                     style="border: 1px solid var(--border); border-opacity: 0.5; transition: box-shadow 0.2s ease;"
                     onmouseover="this.style.boxShadow='0 4px 6px -1px rgba(0, 0, 0, 0.1)'"
                     onmouseout="this.style.boxShadow='0 1px 3px 0 rgba(0, 0, 0, 0.1)'"
                     th:each="announcement : ${bulletin.announcements}">
                    <div class="card-body p-4">
                        <div class="d-flex align-items-start gap-3">
                            <!-- 아이콘 -->
                            <div class="flex-shrink-0 d-flex align-items-center justify-content-center rounded-2"
                                 style="width: 40px; height: 40px; background: var(--primary); background-opacity: 0.1;">
                                <i class="fas fa-heart" style="color: var(--primary); font-size: 1.25rem;"></i>
                            </div>

                            <!-- 내용 -->
                            <div class="flex-grow-1 min-width-0">
                                <div class="d-flex align-items-center gap-2 mb-1">
                                    <h3 class="fw-semibold mb-0" style="font-size: 0.875rem; color: var(--foreground);" th:text="${announcement.title}">새가족 환영식</h3>
                                    <span class="badge text-white px-2 py-0" 
                                          style="font-size: 0.75rem; background: var(--destructive);" 
                                          th:if="${announcement.isImportant}">중요</span>
                                    <span class="badge px-2 py-0" 
                                          style="font-size: 0.75rem; background: var(--secondary); color: var(--secondary-foreground);">행사</span>
                                </div>

                                <p class="mb-2" style="font-size: 0.875rem; color: var(--muted-foreground); line-height: 1.5;" 
                                   th:text="${announcement.content}">3월 26일(일) 오후 2시 새가족을 위한 환영식이 있습니다. 많은 참여 부탁드립니다.</p>

                                <p class="mb-0" style="font-size: 0.75rem; color: var(--muted-foreground);" 
                                   th:text="${#temporals.format(announcement.announcementDate, 'yyyy.MM.dd')}">2024.03.19</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 연락처 & 오시는 길 (Contact) -->
        <section class="p-4" style="background: var(--muted); background-opacity: 0.3;">
            <div class="mb-4">
                <h2 class="h5 fw-bold mb-1" style="color: var(--foreground);">연락처 & 오시는 길</h2>
                <p style="font-size: 0.875rem; color: var(--muted-foreground);">교회 정보와 찾아오는 방법</p>
            </div>

            <!-- 연락처 정보 -->
            <div class="card mb-4" style="border: 1px solid var(--border); border-opacity: 0.5;">
                <div class="card-body p-4">
                    <h3 class="fw-semibold mb-3" style="color: var(--foreground);">연락처 정보</h3>
                    <div class="d-flex flex-column gap-3">
                        <!-- 전화번호 -->
                        <div class="d-flex align-items-center justify-content-between">
                            <div class="d-flex align-items-center gap-3">
                                <div class="d-flex align-items-center justify-content-center rounded-2" 
                                     style="width: 2rem; height: 2rem; background: var(--primary); background-opacity: 0.1;">
                                    <i class="fas fa-phone" style="font-size: 1rem; color: var(--primary);"></i>
                                </div>
                                <div>
                                    <p class="mb-0" style="font-size: 0.75rem; color: var(--muted-foreground);">전화번호</p>
                                    <p class="mb-0 fw-medium" style="font-size: 0.875rem; color: var(--foreground);">02-1234-5678</p>
                                </div>
                            </div>
                            <a href="tel:02-1234-5678" class="btn btn-outline-primary btn-sm">연결</a>
                        </div>

                        <!-- 이메일 -->
                        <div class="d-flex align-items-center justify-content-between">
                            <div class="d-flex align-items-center gap-3">
                                <div class="d-flex align-items-center justify-content-center rounded-2" 
                                     style="width: 2rem; height: 2rem; background: var(--primary); background-opacity: 0.1;">
                                    <i class="fas fa-envelope" style="font-size: 1rem; color: var(--primary);"></i>
                                </div>
                                <div>
                                    <p class="mb-0" style="font-size: 0.75rem; color: var(--muted-foreground);">이메일</p>
                                    <p class="mb-0 fw-medium" style="font-size: 0.875rem; color: var(--foreground);">youth@lordslove.church</p>
                                </div>
                            </div>
                            <a href="mailto:youth@lordslove.church" class="btn btn-outline-primary btn-sm">연결</a>
                        </div>

                        <!-- 주소 -->
                        <div class="d-flex align-items-center justify-content-between">
                            <div class="d-flex align-items-center gap-3">
                                <div class="d-flex align-items-center justify-content-center rounded-2" 
                                     style="width: 2rem; height: 2rem; background: var(--primary); background-opacity: 0.1;">
                                    <i class="fas fa-map-marker-alt" style="font-size: 1rem; color: var(--primary);"></i>
                                </div>
                                <div>
                                    <p class="mb-0" style="font-size: 0.75rem; color: var(--muted-foreground);">주소</p>
                                    <p class="mb-0 fw-medium" style="font-size: 0.875rem; color: var(--foreground);">경기 하남시 더우개로 49</p>
                                </div>
                            </div>
                            <a href="https://map.naver.com/p/search/%ED%95%98%EB%82%A8%EC%A3%BC%EC%82%AC%EB%9E%91%EA%B5%90%ED%9A%8C/place/12980252?c=15.00,0,0,0,dh&placePath=/home?entry=pll&from=map&fromPanelNum=2&timestamp=202509231735&locale=ko&svcName=map_pcv5&searchText=%ED%95%98%EB%82%A8%EC%A3%BC%EC%82%AC%EB%9E%91%EA%B5%90%ED%9A%8C" target="_blank" class="btn btn-outline-primary btn-sm">지도보기</a>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 교통편 -->
            <div class="card mb-4" style="border: 1px solid var(--border); border-opacity: 0.5;">
                <div class="card-body p-4">
                    <h3 class="fw-semibold mb-3" style="color: var(--foreground);">교통편</h3>
                    <div class="d-flex flex-column gap-3">
                        <div class="d-flex align-items-center gap-3">
                            <div class="d-flex align-items-center justify-content-center rounded-2" 
                                 style="width: 2rem; height: 2rem; background: var(--secondary); background-opacity: 0.5;">
                                <i class="fas fa-subway" style="font-size: 1rem; color: var(--secondary-foreground);"></i>
                            </div>
                            <div>
                                <p class="fw-medium mb-0" style="font-size: 0.875rem; color: var(--foreground);">지하철</p>
                                <p class="mb-0" style="font-size: 0.75rem; color: var(--muted-foreground);">5호선 하남시청역 1번 출구 버스 이용</p>
                            </div>
                        </div>
                        <div class="d-flex align-items-center gap-3">
                            <div class="d-flex align-items-center justify-content-center rounded-2" 
                                 style="width: 2rem; height: 2rem; background: var(--secondary); background-opacity: 0.5;">
                                <i class="fas fa-car" style="font-size: 1rem; color: var(--secondary-foreground);"></i>
                            </div>
                            <div>
                                <p class="fw-medium mb-0" style="font-size: 0.875rem; color: var(--foreground);">주차</p>
                                <p class="mb-0" style="font-size: 0.75rem; color: var(--muted-foreground);">교회 지하 주차장 이용 가능</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 교역자 연락처 -->
            <div class="card mb-4" style="border: 1px solid var(--border); border-opacity: 0.5;">
                <div class="card-body p-4">
                    <h3 class="fw-semibold mb-3" style="color: var(--foreground);">교역자 연락처</h3>
                    <div class="d-flex flex-column gap-3">
                        <div class="d-flex align-items-center justify-content-between">
                            <div>
                                <p class="fw-medium mb-0" style="font-size: 0.875rem; color: var(--foreground);">이사랑 전도사</p>
                                <p class="mb-0" style="font-size: 0.75rem; color: var(--muted-foreground);">청년부 담당 전도사</p>
                            </div>
                            <a href="tel:02-1234-5679" class="btn btn-outline-primary btn-sm">연락</a>
                        </div>
                        <div class="d-flex align-items-center justify-content-between">
                            <div>
                                <p class="fw-medium mb-0" style="font-size: 0.875rem; color: var(--foreground);">김열정 형제</p>
                                <p class="mb-0" style="font-size: 0.75rem; color: var(--muted-foreground);">청년부 회장</p>
                            </div>
                            <a href="tel:02-1234-5680" class="btn btn-outline-primary btn-sm">연락</a>
                        </div>
                        <div class="d-flex align-items-center justify-content-between">
                            <div>
                                <p class="fw-medium mb-0" style="font-size: 0.875rem; color: var(--foreground);">박은혜 자매</p>
                                <p class="mb-0" style="font-size: 0.75rem; color: var(--muted-foreground);">청년부 총무</p>
                            </div>
                            <a href="tel:02-1234-5681" class="btn btn-outline-primary btn-sm">연결</a>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 디지털 주보 QR -->
            <div class="card" style="border: 1px solid var(--border); border-opacity: 0.5;">
                <div class="card-body p-4">
                    <div class="text-center">
                        <div class="d-flex align-items-center justify-content-center rounded-2 mx-auto mb-3" 
                             style="width: 4rem; height: 4rem; background: var(--primary); background-opacity: 0.1;">
                            <i class="fas fa-qrcode" style="font-size: 2rem; color: var(--primary);"></i>
                        </div>
                        <h3 class="fw-semibold mb-1" style="color: var(--foreground);">디지털 주보</h3>
                        <p class="mb-3" style="font-size: 0.75rem; color: var(--muted-foreground);">QR 코드를 스캔하여 온라인 주보를 확인하세요</p>
                        <button class="btn btn-outline-primary btn-sm">QR 코드 보기</button>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <!-- 하단 네비게이션 및 새로고침 버튼 -->
    <th:block th:replace="~{fragments/bottom-nav :: bottom-nav}"></th:block>
    <th:block th:replace="~{fragments/bottom-nav :: refresh-btn}"></th:block>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- 네비게이션 스크립트 -->
    <th:block th:replace="~{fragments/bottom-nav :: navigation-scripts}"></th:block>
</body>
</html>